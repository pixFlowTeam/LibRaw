# LibRaw 快速参考

## 构建命令

```bash
# 构建所有平台
./scripts/build-unified.sh all

# 构建特定平台
./scripts/build-unified.sh windows-x64
./scripts/build-unified.sh macos-arm64
./scripts/build-unified.sh macos-x64
./scripts/build-unified.sh linux-x64

# 清理构建
./scripts/build-unified.sh windows-x64 --clean
./scripts/build-unified.sh all --clean
```

## 构建结果

| 平台 | 状态 | 库文件大小 | 示例程序 |
|------|------|------------|----------|
| **Windows x64** | ✅ | 100MB | ❌ |
| **macOS ARM64** | ✅ | 11MB | ✅ |
| **macOS x64** | ✅ | 11MB | ✅ |
| **Linux x64** | ✅ | 11MB | ✅ |

## 关键配置

- ❌ **LCMS**: 完全禁用
- ❌ **OpenMP**: 完全禁用  
- ✅ **静态链接**: 无外部依赖
- ✅ **跨平台**: 4个平台全部支持

## 库文件位置

```
build/{platform}/lib/liblibraw.a
```

## 示例程序位置 (非 Windows)

```
build/{platform}/bin/
├── 4channels
├── dcraw_emu
├── dcraw_half
├── mem_image_sample
├── multirender_test
├── postprocessing_benchmark
├── raw-identify
├── rawtextdump
└── unprocessed_raw
```

## 依赖安装

```bash
brew install mingw-w64 cmake
```

## 故障排除

- **Windows 失败**: 检查 MinGW-w64 安装
- **macOS x64 失败**: 检查工具链文件
- **链接错误**: 检查链接器标志

## 使用示例

```cpp
#include <libraw/libraw.h>

LibRaw processor;
processor.open_file("image.raw");
processor.unpack();
processor.dcraw_process();
```

